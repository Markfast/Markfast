<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>About Markdown</title>
        <link href="./css/style.css" rel="stylesheet"/>
    </head>
    <body>
        <script>
        const electron = require('electron');
        const {ipcRenderer} = electron;
        const Config = require('electron-config');
        let config = new Config();

        changeTheme(config.get('theme'));

        ipcRenderer.on('SWAP_THEME', (event, theme) => {
            changeTheme(theme);
        });

        function changeTheme(theme) {
            console.log('swap', theme);
            if(document.getElementById('theme')) {
                document.head.removeChild(document.getElementById('theme'));
            }
            let newTheme = document.createElement('link');
            newTheme.id = 'theme';
            newTheme.rel = 'stylesheet';
            newTheme.href = `./css/theme_${theme}.css`;
            document.head.appendChild(newTheme);
        }
        </script>

        <center><h1>Your Guide to Markdown</h1></center>
    </body>
</html>
